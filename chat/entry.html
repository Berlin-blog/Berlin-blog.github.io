<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>用户登录</title>
    <link rel="stylesheet"  href="css/entry.css" />

</head>

<body>
<div class="container right-panel-active">
    <!-- Sign Up -->
    <div class="container__form container--signup">
      <form action="#" class="form" id="form1">
        <h2 class="form__title">Sign Up</h2>
        <input type="text" name="reg_name" id="reg_name" class="input" value="" placeholder="User"/>
        <input type="email" placeholder="Email" class="input" placeholder="Email"/>
        <input type="password" name="reg_password" id="reg_password" value="" class="input" placeholder="Password"/>
        <button class="btn" id="LogUp">Sign Up</button>
      </form>
    </div>

    <!-- Sign In -->
    <div class="container__form container--signin">
      <form action="#" class="form" id="form2">
        <h2 class="form__title">Sign In</h2>
        <input type="text" name="user_name" id="user_name" placeholder="User" class="input" value=""/>
        <input type="password" name="user_password" id="user_password" placeholder="Password" class="input" value=""/>
        <a href="#" class="link">Forgot your password?</a>
        <button class="btn" id="LogIn">Sign In</button>
      </form>
    </div>

    <!-- Overlay -->
    <div class="container__overlay">
      <div class="overlay">
        <div class="overlay__panel overlay--left">
          <button class="btn" id="signIn">Sign In</button>
        </div>
        <div class="overlay__panel overlay--right">
          <button class="btn" id="signUp">Sign Up</button>
        </div>
      </div>
    </div>
  </div>
<script src="js/entry.js"></script>
<script type="text/javascript">
	var register_btn = document.getElementById("LogUp");
	//点击注册触发事件
	register_btn.addEventListener("click",function(){
		var user_name = document.getElementById("reg_name").value;
		var user_password = document.getElementById("reg_password").value;
		if(user_name.length == 0||user_password.length ==0){
			alert("请输入需要注册的用户名或密码！");
		}
		//注册成功存入localStorage,并且弹回登录界面
		else{
			localStorage.setItem(user_name,user_password);
			alert("注册成功！");
			container.classList.remove("right-panel-active");
		}
	})
</script>

<script type="text/javascript">
	var login_btn = document.getElementById("LogIn");
	var register_btn = document.getElementById("LogUp");
	//登陆按钮实现
	login_btn.addEventListener("click",function(){
		var user_name = document.getElementById("user_name").value;
		var user_password = document.getElementById("user_password").value;
		var user_nameArr = new Array(localStorage.length);
		//将储存的记录存入数组中
		for(i=0;i<localStorage.length;i++){
			user_nameArr[i] = localStorage.key(i);
		}
		if(user_nameArr.includes(user_name)){
			var store_password = localStorage.getItem(user_name);
			 if(user_password == store_password){
				 confirm("登陆成功，是否前往");
				 window.location.href = "https://berlin-blog.github.io";
				 
			 } else{
				 document.getElementById("login_sucss").innerHTML = "密码错误！";
			 }
		}
		else{
			document.getElementById("login_sucss").innerHTML = "用户名不存在!";
		}
	})
</script>
</body>
</html>
